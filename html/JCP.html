<html>

    <head>
        <title>Joel Consciousness Project</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="icon" href= "/pictures/LOGO.png" type="image/x-icon"/>
        <meta property="og:title" content="Venorrak - JCP">
        <meta property="og:description" content="Venorrak's website">
        <meta property="og:image" content="/pictures/LOGO.png">
        <meta property="og:url" content="https://server.venorrak.dev/">
        <meta property="og:type" content="website">

        <link rel="stylesheet" href="/css/JCP.css">
    </head>
    
    
    <body id="home" leftmargin="0" rightmargin="0" marginwidth="0" marginheight="0" topmargin="0">
        <div id="contents">
            <form id="ctl0_ctl1" method="post" action="/">
                <div id="main">
                    <div class="header">

                        <div class="title">
                            <a href="https://github.com/Venorrak/JoelBot">Joel Consciousness Project</a>
                        </div>

                    </div>

                    <div id="maincontent">
                        <div id="body">


                            <table>
                                <tbody>
                                    <tr>
                                        <td style="width:33%; border-right: 1px solid #d0d0d0; padding:10px;" valign="top">
                                            <br>
                                            <h2 style="text-align:center">How it works</h2>

                                            The Joel Consciousness Project collects Joels from the cyberzone.
                                            These numbers are available on the Joel API. This website saves those
                                            numbers
                                            once a minute and performs sophisticated analysis on these random Joels to see
                                            how
                                            coherent they are.
                                            The theory is that the Joel Consciousness of all Viewers of the cyberzone affect
                                            these
                                            random Joels... Maybe they aren't quite as random as we thought.

                                        </td>



                                        <td style="width:33%; border-right: 1px solid #d0d0d0; padding:0px 10px 0px 10px;"
                                            valign="top">
                                            <h2 style="text-align: center">The Real-time JCP</h2>
                                            <center>
                                                <img src="/pictures/JoelNoBack.png" alt="" id="JoelPic">
                                            </center>
                                            Welcome to the Joel Consciousness
                                                Project<br><br>
                                            <p>
                                                This is a real time data analysis of the Joel Consciousness Project. It
                                                collects the data each minute and runs statistics on the stream of random
                                                Joels generated by the cyberzone. In this way, it can be seen as a real-time indicator
                                                of Joel consciousness coherence.
                                            </p>


                                            <center>
                                                <table border="1">
                                                    <tbody>
                                                        <tr>
                                                            <td>
                                                                <div id="JCPchart" style="width: 300; height: 200;"></div>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </center>
                                        </td>




                                        <td style="width:33%; padding:10px;" valign="top">
                                            <br>
                                            <h2 style="text-align:center">What it means</h2>

                                            <table width="100%" cellpadding="5">

                                                <tbody>
                                                    <tr>
                                                        <td>
                                                            <img src="/pictures/blueJoel.png" alt=""
                                                            style="width:100;height:50;">
                                                        </td>
                                                        <td>
                                                            Significantly small Joel variance. Suggestive of deeply
                                                            shared,
                                                            internally motivated Joel focus. The index is above 95%
                                                        </td>
                                                    </tr>

                                                    <tr>
                                                        <td>
                                                            <img src="/pictures/skyJoel.png" alt=""
                                                            style="width:100;height:50;">
                                                        </td>
                                                        <td>
                                                            Small Joel variance. Probably chance fluctuation. The index
                                                            is between 90% and 95%
                                                        </td>
                                                    </tr>

                                                    <tr>
                                                        <td>
                                                            <img src="/pictures/greenJoel.png" alt=""
                                                            style="width:100;height:50;">
                                                        </td>
                                                        <td>
                                                            Normally random Joel variance. This is average or
                                                            expected behavior. The index is between 40% and 90%
                                                        </td>
                                                    </tr>

                                                    <tr>
                                                        <td>
                                                            <img src="/pictures/yellowJoel.png" alt=""
                                                            style="width:100;height:50;">
                                                        </td>
                                                        <td>
                                                            Slightly increased Joel variance. The index is between 10% and 40%
                                                        </td>
                                                    </tr>

                                                    <tr>
                                                        <td>
                                                            <img src="/pictures/orangeJoel.png" alt=""
                                                            style="width:100;height:50;">
                                                        </td>
                                                        <td>
                                                            Strongly increased Joel variance. The index between 5% and 10%
                                                        </td>
                                                    </tr>

                                                    <tr>
                                                        <td>
                                                            <img src="/pictures/redJoel.png" alt=""
                                                                style="width:100;height:50;">
                                                        </td>
                                                        <td>
                                                            Significantly large Joel variance. Suggests broadly
                                                            shared coherence of Joel. The index is less than
                                                            5%
                                                        </td>
                                                    </tr>


                                                </tbody>
                                            </table>


                                            These colors can fade between each other so it's possible to have, for example,
                                            yellow-orange-ish and green-yellow-ish colors. <b>Please don't strongly
                                                interpret the Joel!</b>

                                        </td>
                                    </tr>
                                </tbody>
                            </table>




                            <div style="clear:both"></div>
                            <hr style="margin-top:15px;">

                        </div>
                    </div>
                </div>
            </form>
        </div>



        <script>
            var JCPs = [];
            
            document.addEventListener('DOMContentLoaded', function() {
                const jsScript = document.createElement('script')
                jsScript.src = 'https://www.gstatic.com/charts/loader.js';

                jsScript.addEventListener('load', () => {
                    google.charts.load('current', {
                        packages: ['corechart']
                    });
                    google.charts.setOnLoadCallback(function() {
                        fetch('/api/joels/JCP/long?limit=60', {
                                method: 'GET'
                            })
                            .then(response => response.json())
                            .then(function(response) {
                                JCPs = response;
                            })
                            .then(function() {
                                drawChart();
                                changeJoelColor();
                            });
                    });
                })
                document.body.appendChild(jsScript)
                
            });

            function changeJoelColor(){
                let JCP = JCPs[0].JCP;
                let JoelPic = document.getElementById('JoelPic');
                if(JCP > 95){
                    JoelPic.src = '/pictures/blueJoel.png';
                } else if(JCP > 90){
                    JoelPic.src = '/pictures/skyJoel.png';
                } else if(JCP > 40){
                    JoelPic.src = '/pictures/greenJoel.png';
                } else if(JCP > 10){
                    JoelPic.src = '/pictures/yellowJoel.png';
                } else if(JCP > 5){
                    JoelPic.src = '/pictures/orangeJoel.png';
                } else {
                    JoelPic.src = '/pictures/redJoel.png';
                }
            }

            function drawChart() {
                let chartData = [['Time', 'JCP']];
                JCPs.reverse().forEach((element) => {
                    chartData.push([element.timestamp, element.JCP]);
                });

                var data = google.visualization.arrayToDataTable(chartData);

                var options = {
                    title: 'JCP',
                    curveType: 'function',
                    vAxis: { 
                        maxValue: 100, 
                        viewWindow: {
                            min: 0
                        },
                        title: "%"
                    },
                    legend: {
                        position: 'bottom'
                    }
                };

                var chart = new google.visualization.LineChart(document.getElementById('JCPchart'));

                chart.draw(data, options);
            }
        </script>
    </body>

</html>